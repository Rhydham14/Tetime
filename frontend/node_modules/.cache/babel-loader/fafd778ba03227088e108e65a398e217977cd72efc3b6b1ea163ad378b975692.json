{"ast":null,"code":"import React,{useState}from\"react\";// import axios from \"axios\";\nimport axiosInstance from'../Axios/axios';import ChevronLeftIcon from\"@mui/icons-material/ChevronLeft\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const NewBlog=()=>{// Retrieve user_id from sessionStorage\nconst user_id=sessionStorage.getItem(\"user_id\");const[blogData,setBlogData]=useState({title:\"\",file:null,discription:\"\",user_id:user_id// Initialize user_id with retrieved value\n});const handleChange=e=>{const{name,value,files}=e.target;const file=files&&files[0];setBlogData(prevData=>({...prevData,[name]:name===\"file\"?file:value}));};const handleSubmit=async e=>{e.preventDefault();try{const formData=new FormData();formData.append(\"title\",blogData.title);formData.append(\"discription\",blogData.discription);formData.append(\"file\",blogData.file);console.log(\"fileeee\",blogData.file);formData.append(\"user_id\",blogData.user_id);// Include user_id in the form data\nconst response=await axiosInstance.post(\"/api/blogs/writeblog\",formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});console.log(\"Response:\",response.data);alert(\"Blog added successfully!\");setBlogData({title:\"\",file:null,description:\"\",user_id:user_id// Reset user_id after submission\n});}catch(error){console.error(\"Error adding blog:\",error);alert(\"Something went wrong!\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark mt-2\",children:/*#__PURE__*/_jsxs(Link,{to:\"/Blog\",style:{color:\"white\",textDecoration:\"none\"},id:\"lnk\",children:[/*#__PURE__*/_jsx(ChevronLeftIcon,{}),\"Back\"]})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-danger text-center\",children:\"Tetime\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row pt-2\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"blog\",children:\"Create new Blog post\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"title\",name:\"title\",\"aria-describedby\":\"titleHelp\",placeholder:\"Enter title\",value:blogData.title,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Add Image\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",name:\"file\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"discription\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",className:\"form-control\",id:\"discription\",name:\"discription\",placeholder:\"Discription\",style:{height:\"200px\"},value:blogData.discription,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success mt-2\",children:\"Add Blog\"})]})})]})]});};export default NewBlog;","map":{"version":3,"names":["React","useState","axiosInstance","ChevronLeftIcon","Link","jsx","_jsx","jsxs","_jsxs","NewBlog","user_id","sessionStorage","getItem","blogData","setBlogData","title","file","discription","handleChange","e","name","value","files","target","prevData","handleSubmit","preventDefault","formData","FormData","append","console","log","response","post","headers","data","alert","description","error","className","children","to","style","color","textDecoration","id","onSubmit","htmlFor","type","placeholder","onChange","height"],"sources":["/home/rhydham/Documents/Tetime/frontend/src/jsx/NewBlog.js"],"sourcesContent":["import React, { useState } from \"react\";\n// import axios from \"axios\";\nimport axiosInstance from '../Axios/axios';\n\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\";\nimport { Link } from \"react-router-dom\";\n\nconst NewBlog = () => {\n  // Retrieve user_id from sessionStorage\n  const user_id = sessionStorage.getItem(\"user_id\");\n\n  const [blogData, setBlogData] = useState({\n    title: \"\",\n    file: null,\n    discription: \"\",\n    user_id: user_id, // Initialize user_id with retrieved value\n  });\n\n  const handleChange = (e) => {\n    const { name, value, files } = e.target;\n    const file = files && files[0];\n\n    setBlogData((prevData) => ({\n      ...prevData,\n      [name]: name === \"file\" ? file : value,\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      const formData = new FormData();\n      formData.append(\"title\", blogData.title);\n      formData.append(\"discription\", blogData.discription);\n      formData.append(\"file\", blogData.file);\n      console.log(\"fileeee\", blogData.file);\n      formData.append(\"user_id\", blogData.user_id); // Include user_id in the form data\n\n      const response = await axiosInstance.post(\"/api/blogs/writeblog\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n\n      console.log(\"Response:\", response.data);\n      alert(\"Blog added successfully!\");\n\n      setBlogData({\n        title: \"\",\n        file: null,\n        description: \"\",\n        user_id: user_id, // Reset user_id after submission\n      });\n    } catch (error) {\n      console.error(\"Error adding blog:\", error);\n      alert(\"Something went wrong!\");\n    }\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <button className=\"btn btn-dark mt-2\">\n        <Link to=\"/Blog\" style={{ color: \"white\", textDecoration: \"none\" }} id=\"lnk\">\n          <ChevronLeftIcon />\n          Back\n        </Link>\n      </button>\n      <h1 className=\"text-danger text-center\">Tetime</h1>\n      <div className=\"row pt-2\">\n        <h1 id=\"blog\">Create new Blog post</h1>\n        <div className=\"col-sm-12\">\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <label htmlFor=\"title\">Title</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"title\"\n                name=\"title\"\n                aria-describedby=\"titleHelp\"\n                placeholder=\"Enter title\"\n                value={blogData.title}\n                onChange={handleChange}\n              />\n            </div>\n            <div className=\"form-group mt-2\">\n              <label>Add Image</label>\n              <br />\n              <input\n                type=\"file\"\n                id=\"file\"\n                name=\"file\"\n                onChange={handleChange}\n              />\n            </div>\n            <div className=\"form-group mt-2\">\n              <label htmlFor=\"discription\">Description</label>\n              <textarea\n                type=\"text\"\n                className=\"form-control\"\n                id=\"discription\"\n                name=\"discription\"\n                placeholder=\"Discription\"\n                style={{ height: \"200px\" }}\n                value={blogData.discription}\n                onChange={handleChange}\n              />\n            </div>\n            <button type=\"submit\" className=\"btn btn-success mt-2\">\n              Add Blog\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NewBlog;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}